var ui,game={};(function(){var e,t;function n(e,t){this.row=e,this.col=t}function s(n,s,o){e=[],t=[];for(var a,r,c,i=0;i<n;i++){e.push([]),t.push([]);for(r=0;r<s;r++)e[i].push(!1),t[i].push(!1)}for(a=0;a<o.length;a++)c=o[a],e[c.row][c.col]=!0}function o(){for(var n,s="",t=0;t<e.length;t++){for(n=0;n<e[t].length;n++)s+=e[t][n]?"0":"_";s+=`
`}return s}function i(){for(var n,s=0;s<e.length;s++)for(n=0;n<e.length;n++)a(s,n);e=t}function a(n,s){var i=e[n][s],o=l(n,s);t[n][s]=i,i?t[n][s]=o==3||o==2:t[n][s]=o==3}function r(t,n){return e[t][n]}function c(t){return e[t.row][t.col]?e[t.row][t.col]=!1:e[t.row][t.col]=!0,e[t.row][t.col]}function l(t,n){for(var s,a=t-1<0?0:t-1,r=n-1<0?0:n-1,c=t+2>=e.length?e.length:t+2,l=n+2>=e[t].length?e[t].length:n+2,o=0,i=a;i<c;i++)for(s=r;s<l;s++)e[i][s]&&o++;return e[t][n]&&o--,o}game={tick:i,printBoard:o,initBoard:s,setCell:c,getCell:r,getBoard:function(){return e},Cell:n}})(),window.onload=function(){game.initBoard(10,10,[]),ui.init("canvas"),ui.setRun("run"),ui.setClear("clear"),ui.setPause("pause"),ui.setClock("time")},ui={},function(){var e,t,s,o,a,r,c,n=50;function _(n){t=document.getElementById(n),a=t.offsetLeft,r=t.offsetTop,console.log(a),console.log(r),t.onclick=j,s=t.getContext("2d"),e=0}function l(){try{o=setTimeout(function(){e++,h(),game.tick(),d(),l()},1e3)}catch(e){alert(e.message)}}function m(){u(),clearTimeout(o),e=0,h(),game.initBoard(10,10,[])}function u(){t.width=t.width}function b(){clearTimeout(o)}function v(e){i(e,l)}function f(e){i(e,m)}function p(e){i(e,b)}function g(e){c=e}function i(e,t){document.getElementById(e).onclick=t}function h(){var t="";e>=60?t=Math.floor(e/60)+":"+e%60:e<10?t="0:0"+e:t="0:"+e,document.getElementById(c).innerText=t}function j(e){var t=y(e.clientX-a,e.clientY-r),n=game.setCell(t);d()}function y(e,t){console.log("x: "+e+", y:"+t);var s=Math.floor(e/n),o=Math.floor(t/n);return new game.Cell(s,o)}function d(){u();for(var t,n=game.getBoard(),e=0;e<n.length;e++)for(t=0;t<n[e].length;t++)n[e][t]&&w(new game.Cell(t,e))}function w(e){s.fillStyle="#002288",s.fillRect(e.col*n,e.row*n,n,n)}ui={init:_,setClear:f,setPause:p,setRun:v,setClock:g}}()