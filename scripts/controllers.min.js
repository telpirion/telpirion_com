/*
* controllers.js for telpirion.com.
* Copyright 2015, Eric M. Schmidt. All rights reserved.
*/
function homeController(e){function o(e){for(var o=["carousel-in-r","carousel-out-r","carousel-in-l","carousel-out-l","carousel-pre-fade"],t=0;t<e.length;t++)for(var n=0;n<o.length;n++)e[t].classList.remove(o[n])}function t(e,t){var n="carousel-out-"+e,r="carousel-in-"+e,i=document.querySelectorAll(".slide")
o(i)
var l=i[0],a=l.parentNode,s="r"===e?i[1]:i[i.length-1],c=function(){t(s,l,a),s.classList.add(r),l.removeEventListener("transitionend",c)}
l.addEventListener("transitionend",c),s.classList.add("carousel-pre-fade"),l.classList.add(n)}document.querySelector(".left").addEventListener("click",function(){t("l",function(e,o,t){t.insertBefore(e,o)})}),document.querySelector(".right").addEventListener("click",function(){t("r",function(e,o,t){t.removeChild(o),t.appendChild(o)})})}function gamesController(e,o){e.title="Games",e.games=[{title:"Vikings!!!",url:"/Games/Vikings",description:"Vikings!!! is a simple platformer, built entirely using HTML, CSS, and JavaScript. The game uses a physics engine of my own design and code.",img:"/images/vikings-promo.png"},{title:"Yahtzy",url:"/Games/Yahtzy",description:"Roll five dice and try to complete a pair, three-of-a-kind, full-house, or even a Yahtzy!",img:"/images/yahtzy-promo.png"},{title:"Conway's Game of Life",url:"/Games/Conway",description:"Build a colony of microbes that can survive from one generation to the next."}],e.onClick=function(e){console.log(e),o.path(e)}}function resumeController(e){e.title="Resume"}function appsController(e,o){e.title="Apps",e.appsList=[{title:"Latin Reader for Android",url:"https://play.google.com/store/apps/details?id=com.ericmschmidt.latinreader",description:"Read one of several classical works in the original Latin on your Android device.",img:"images/google-play-badge.png"},{title:"Latin Reader for Windows",url:"https://www.microsoft.com/en-us/store/apps/latin-reader/9wzdncrfjjc0",description:"Read one of several classical works in the original Latin on your Windows 10, Windows 8.1, or Windows Phone 8.1 device.",img:"https://assets.windowsphone.com/f2f77ec7-9ba9-4850-9ebe-77e366d08adc/English_Get_it_Win_10_InvariantCulture_Default.png"}],e.onClick=function(e){console.log(e),o.location.href=e}}function blogController(e){e.title="Blog",e.feed=[{title:"First blog post",date:"December 22, 2015",body:"First blog post on the new site!"},{title:"Shamepile Software is now Telpirion.com",body:"This web site has been rebranded to Telpirion.com, the personal web site for Eric M. Schmidt.",date:"June 28, 2016"}]}function aboutController(e){e.arrowDownUrl="images/ic_arrow_drop_down_black_24dp_2x.png",e.arrowUpUrl="images/ic_arrow_drop_up_black_24dp_2x.png",e.title="About",e.bodyContent="Find general information about the games and apps on this site.",e.gamesExpando="About the games",e.appsExpando="About the apps",e.appsBodyContent="I have published a couple of apps on the Google Play Store and the Windows Store.",e.contactExpando="Contact me",e.contactMail="eric.schmidt@telpirion.com",$(".expando").click(function(o){var t="img"==o.target.nodeName.toLowerCase()?o.target.parentElement:o.target
console.log(o.target)
var n=t.nextElementSibling
n.parentElement.nextElementSibling
n.classList.contains("hidden")?($(t).children(".icon").attr("src",e.arrowUpUrl),n.classList.remove("hidden"),n.classList.add("shown")):($(t).children(".icon").attr("src",e.arrowDownUrl),n.classList.remove("shown"),n.classList.add("hidden"))})}function vikingsController(e){e.title="Vikings!!!",$.getScript("scripts/vikings/main.js")}function yahtzyController(e){e.title="Yahtzy"
var o="scripts/yahtzy"
$.when($.getScript(o+"/game.js"),$.getScript(o+"/ui-controllers.js"),$.getScript(o+"/robot.js"),$.getScript(o+"/utilities.js"),$.Deferred(function(e){$(e.resolve)})).done(function(){console.log("yahtzee scripts loaded"),$.getScript(o+"/main.js")})}function conwayController(e){e.title="Conway's Game of Life"
var o="scripts/conway"
$.when($.getScript(o+"/game.js"),$.getScript(o+"/ui.js"),$.Deferred(function(e){$(e.resolve)})).done(function(){console.log("conway scripts loaded"),$.getScript(o+"/main.js")})}function demoController(e,o){e.title="Scratch",e.location=o.absUrl()}telpirionApp.controller("homeController",homeController).controller("resumeController",resumeController).controller("gamesController",["$scope","$location",gamesController]).controller("appsController",["$scope","$window",appsController]).controller("blogController",blogController).controller("aboutController",aboutController).controller("vikingsController",vikingsController).controller("yahtzyController",yahtzyController).controller("conwayController",conwayController).controller("demoController",["$scope","$location",demoController])
